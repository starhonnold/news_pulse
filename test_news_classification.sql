-- Тест классификации новостей
-- Создаем тестовые новости с NULL category_id для переклассификации

INSERT INTO news (title, description, content, url, source_id, category_id, published_at, created_at, updated_at) VALUES 
('ISU назвал потрясающим выступление Петросян на олимпийском отборе', 'Фигурное катание', 'ISU назвал потрясающим выступление Петросян на олимпийском отборе. Фигурное катание.', 'https://test.com/sport1', 1, NULL, NOW(), NOW(), NOW()),
('Иноагента Гозмана заочно арестовали по статье о призывах к терроризму', 'Политика', 'Иноагента Гозмана заочно арестовали по статье о призывах к терроризму. Политика.', 'https://test.com/politics1', 2, NULL, NOW(), NOW(), NOW()),
('В Махачкале сильные осадки привели к обвалу стены частного дома', 'ЧС', 'В Махачкале сильные осадки привели к обвалу стены частного дома. ЧС.', 'https://test.com/society1', 3, NULL, NOW(), NOW(), NOW()),
('Трактор прервал победную серию Нефтехимика в КХЛ', 'Хоккей', 'Трактор прервал победную серию Нефтехимика в КХЛ. Хоккей.', 'https://test.com/sport2', 4, NULL, NOW(), NOW(), NOW())
ON CONFLICT (url, source_id) DO UPDATE SET category_id = NULL;
